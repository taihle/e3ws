    <div layout="column" flex layout-fill ng-cloak>
        <md-toolbar md-scroll-shrink>
            <div class="md-toolbar-tools">
                <h2 flex md-truncate>Sign up</h2>
                <md-button class="md-icon-button" aria-label="Close" ng-click="close($event)">
                    <md-icon md-svg-icon="theme/images/close.svg"></md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-content layout-padding flex layout-fill>

            <form name="userForm">
                <!--
                <div layout="row" layout-xs="column" layout-sm="column" layout-align="space-between center">
                  <md-input-container>
                    <md-switch ng-model="showHints">Showing {{showHints ? "Hints" : "Errors"}}</md-switch>
                  </md-input-container>
                </div>
                -->

                <div layout-gt-sm="row">

                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Username</label>
                        <input md-maxlength="30" required name="username" ng-model="user.username" />
                        <div class="hint" ng-if="showHints">Unique name to login to your account!</div>
                        <div ng-messages="userForm.username.$error" ng-if="!showHints">
                            <div ng-message="required">Username is required.</div>
                            <div ng-message="md-maxlength">Username has to be less than 30 characters long.</div>
                        </div>
                    </md-input-container>
                    <div flex="5" hide-xs hide-sm>
                        <!-- Spacer //-->
                    </div>
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Password</label>
                        <input md-maxlength="30" minlength="5" required name="password" ng-model="user.password" type="password" e3x-password />
                        <div class="hint" ng-if="showHints">Your secrete password to login!</div>
                        <div ng-messages="userForm.password.$error" ng-if="!showHints">
                            <div ng-message="required">Password is required.</div>
                            <div ng-message="e3xPassword">The password must contain at least one letter and one digit.</div>                            
                            <div ng-message="md-maxlength">Password has to be less than 30 characters long.</div>
                            <div ng-message="minlength">Password has to be more than 5 characters long.</div>
                        </div>
                    </md-input-container>
                    <div flex="5" hide-xs hide-sm>
                        <!-- Spacer //-->
                    </div>
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Confirm Password</label>
                        <input required name="passwordConf" ng-model="user.passwordConf" type="password" compare-to="user.password"/>
                        <div class="hint" ng-if="showHints">Confirm password</div>
                        <div ng-messages="userForm.passwordConf.$error" ng-if="!showHints">
                            <div ng-message="required">Confirm Password is required.</div>
                            <div ng-message="compareTo">Must match the previous password entry</div>                            
                        </div>
                    </md-input-container>
                </div>

                <div layout-gt-sm="row">

                    <md-input-container class="md-block" flex-gt-sm>
                        <label>First Name</label>
                        <input md-maxlength="30" required name="firstname" ng-model="user.firstname" />
                        <div class="hint" ng-if="showHints">Tell us what we should call you!</div>
                        <div ng-messages="userForm.firstname.$error" ng-if="!showHints">
                            <div ng-message="required">First Name is required.</div>
                            <div ng-message="md-maxlength">First name has to be less than 30 characters long.</div>
                        </div>
                    </md-input-container>
                    <div flex="5" hide-xs hide-sm>
                        <!-- Spacer //-->
                    </div>
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Last Name</label>
                        <input md-maxlength="30" required name="lastname" ng-model="user.lastname" />
                        <div class="hint" ng-if="showHints">Tell us what we should call you!</div>
                        <div ng-messages="userForm.lastname.$error" ng-if="!showHints">
                            <div ng-message="required">Last Name is required.</div>
                            <div ng-message="md-maxlength">Last name has to be less than 30 characters long.</div>
                        </div>
                    </md-input-container>

                </div>

                <div layout-gt-sm="row">

                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Email</label>
                        <input name="email" ng-model="user.email" required minlength="10" maxlength="100" ng-pattern="/^.+@.+\..+$/" />
                        <div class="hint" ng-show="showHints">How can we reach you?</div>

                        <div ng-messages="userForm.email.$error" ng-hide="showHints">
                            <div ng-message-exp="['required', 'minlength', 'maxlength', 'pattern']">
                                Your email must be between 10 and 100 characters long and look like an e-mail address.
                            </div>
                        </div>
                    </md-input-container>

                    <div flex="5" hide-xs hide-sm>
                        <!-- Spacer //-->
                    </div>

                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Phone Number</label>
                        <input class="input-phone" type='text' phone-input name="phone" ng-model="user.phone" ng-pattern="/^[(][0-9]{3}[)] [0-9]{3}-[0-9]{4}$/" />

                        <div class="hint" ng-show="showHints">(###) ###-####</div>

                        <div ng-messages="userForm.phone.$error" ng-hide="showHints">
                            <!-- <div ng-message="pattern">(###) ###-#### - Please enter a valid phone number.</div> -->
                        </div>
                    </md-input-container>
                </div>

                <center><p style="color: red;">{{error}}</p></center>

                <p><a href="#"> By clicking submit, I agree to your terms</a></p>

                <md-dialog-actions layout="row">
                    <md-button type="submit" ng-disabled="userForm.$invalid" class="md-raised md-primary" ng-click="signup($event)">Submit</md-button>
                    <md-button type="cancel" class="md-raised md-primary" ng-click="close($event)">Cancel</md-button>
                </md-dialog-actions>
            </form>
        </md-content>

    </div>